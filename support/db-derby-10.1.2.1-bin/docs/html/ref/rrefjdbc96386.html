<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta content="public" name="security" />
<meta content="index,follow" name="Robots" />
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta content="reference" name="DC.Type" />
<meta name="DC.Title" content="java.sql.Blob and java.sql.Clob" />
<meta content="java.sql.Blob, java.sql.Clob, BLOB data type, CLOB data type" name="DC.subject" />
<meta content="java.sql.Blob, java.sql.Clob, BLOB data type, CLOB data type" name="keywords" />
<meta scheme="URI" name="DC.Relation" content="crefjdbc12657.html" />
<meta scheme="URI" name="DC.Relation" content="crefjdbc25142.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc32052.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc34565.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc34954.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc27734.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc15905.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc40794.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc29874.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc20485.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc23502.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc38274.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc16643.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc30469.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc20377.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc80004.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc77156.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc59162.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc99392.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc52637.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc66688.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc71949.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc87220.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbcjsr169.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc32593.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbcjavasqlconnection30.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbcdatabasemetadata30.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbcparametermetadata30.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbcjavasqlpreparedstatement30.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbcjavasqlsavepoint.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbcjavasqlstatement30.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc1020262.html" />
<meta scheme="URI" name="DC.Relation" content="crefjavbclobnot.html" />
<meta content="XHTML" name="DC.Format" />
<meta content="rrefjdbc96386" name="DC.Identifier" />
<meta content="en-us" name="DC.Language" />
<link href="commonltr.css" type="text/css" rel="stylesheet" />
<title>java.sql.Blob and java.sql.Clob</title>
</head>
<body id="rrefjdbc96386"><a name="rrefjdbc96386"><!-- --></a>


<h1 class="topictitle1">java.sql.Blob and java.sql.Clob</h1>


<div>
<div class="section"><p>In JDBC 2.0, <em>java.sql.Blob</em> is the mapping for the SQL BLOB
(binary large object) type; <em>java.sql.Clob</em> is the mapping for the SQL
CLOB (character large object) type.</p>
</div>

<div class="section"><p>java.sql.Blob and java.sql.Clob provide a logical pointer to the
large object rather than a complete copy of the objects. <span>Derby</span> processes
only one data page into memory at a time. The whole BLOB does not need to
be processed and stored in memory just to access the first few bytes of the
LOB object</p>
</div>

<div class="section"><div class="p"><span>Derby</span> now supports
the built-in BLOB or CLOB data types. <span>Derby</span> also
provides the following support for these data types:   <ul>
<li><strong>BLOB Features</strong> <span>Derby</span> supports
the <em>java.sql.Blob</em> interface and the BLOB-related methods in <em><a href="rrefjdbc99392.html#rrefjdbc99392">java.sql.PreparedStatement</a></em> and <em><a href="rrefjdbc77156.html#rrefjdbc77156">java.sql.ResultSet</a></em>.
The <em>getBlob</em> methods of <em>CallableStatement</em> are not implemented.</li>

<li><strong>CLOB Features</strong> <span>Derby</span> supports
the java.sql.Clob interface and the CLOB-related methods in <em><a href="rrefjdbc99392.html#rrefjdbc99392">java.sql.PreparedStatement</a></em> and <em><a href="rrefjdbc77156.html#rrefjdbc77156">java.sql.ResultSet</a></em>. The <em>getClob</em> methods
of <em>CallableStatement</em> procedures are not implemented.</li>

</ul>
</div>
</div>

<div class="section"><div class="p">To use the java.sql.Blob and java.sql.Clob features:   <ul>
<li>Use the SQL BLOB type for storage; LONG VARCHAR FOR BIT DATA, BINARY,
and VARCHAR FOR BIT DATA types also work.</li>

<li>Use the SQL CLOB type for storage; LONG VARCHAR, CHAR, and VARCHAR types
also work.</li>

<li>Use the <em>getBlob</em> or <em>getClob</em> methods on the <em>java.sql.ResultSet</em> interface
to retrieve a <em>BLOB</em> or <em>CLOB</em> handle to the underlying data.</li>

<li>You cannot call static methods (SQL extension over SQL) on any LOB-columns.</li>

</ul>
</div>
</div>

<div class="section"><p>In addition, casting between strings and BLOBs is not recommended
because casting is platform and database dependent. </p>
</div>

<div class="section"><p><span>Derby</span> uses
unicode strings (2 byte characters), while other database products may use
ASCII characters (1 byte per character). If various codepages are used, each
character might need several bytes. A larger BLOB type might be necessary
to accommodate a normal string in <span>Derby</span>.
You should use CLOB types for storing strings. </p>
</div>

<div class="section"><div class="p"><strong>Restrictions on BLOB, CLOB, (LOB-types):</strong>   <ul>
<li>LOB-types cannot be compared for equality(=) and non-equality(!=, &lt;&gt;. </li>

<li>LOB-typed values are not order-able, so &lt;, &lt;=, &gt;, &gt;= tests
are not supported.</li>

<li>LOB-types cannot be used in indices or as primary key columns.</li>

<li>DISTINCT, GROUP BY, ORDER BY clauses are also prohibited on LOB-types. </li>

<li>LOB-types cannot be involved in implicit casting as other base-types.</li>

</ul>
</div>
</div>

<div class="section"><p><span>Derby</span> implements
all of the methods for these JDBC 2.0 interfaces except for the set and get
methods in <em>CallableStatement</em> interface.</p>
</div>

<div class="section"><p><strong>Recommendations:</strong> Because the lifespan of a <em>java.sql.Blob</em> or <em>java.sql.Clob</em> ends
when the transaction commits, turn off auto-commit with the <em>java.sql.Blob</em> or <em>java.sql.Clob</em> features.</p>
</div>

<div class="section"><div class="p"> 
<div class="tablenoborder"><table summary="" cellspacing="0" cellpadding="4" width="100%" frame="border" border="1" rules="all"><caption>Table 1. JDBC 2.0 java.sql.Blob
Methods Supported</caption>

<thead align="left">
<tr>
<th align="left" valign="bottom" width="13%" id="N101FB">Returns</th>

<th align="left" valign="bottom" width="32%" id="N10204">Signature</th>

<th align="left" valign="bottom" width="55.00000000000001%" id="N1020D">Implementation Notes</th>

</tr>

</thead>

<tbody>
<tr>
<td valign="top" width="13%" headers="N101FB "><em>InputStream</em></td>

<td valign="top" width="32%" headers="N10204 "><em>getBinaryStream()</em></td>

<td valign="top" width="55.00000000000001%" headers="N1020D ">&nbsp;</td>

</tr>

<tr>
<td valign="top" width="13%" headers="N101FB "><em>byte[]</em></td>

<td valign="top" width="32%" headers="N10204 "><em>getBytes(long pos, int length)</em></td>

<td valign="top" width="55.00000000000001%" headers="N1020D ">Exceptions are raised if <em>pos</em> &lt; 1, if <em>pos</em> is
larger than the length of the , or if <em>length</em> &lt;= 0.</td>

</tr>

<tr>
<td valign="top" width="13%" headers="N101FB "><em>long</em></td>

<td valign="top" width="32%" headers="N10204 "><em>length()</em></td>

<td valign="top" width="55.00000000000001%" headers="N1020D ">&nbsp;</td>

</tr>

<tr>
<td valign="top" width="13%" headers="N101FB "><em>long</em></td>

<td valign="top" width="32%" headers="N10204 "><em>position(byte[] pattern, long start)</em></td>

<td valign="top" width="55.00000000000001%" headers="N1020D ">Exceptions are raised if <em>pattern</em> == null, if <em>start</em> &lt;
1, or if <em>pattern</em> is an array of length 0. </td>

</tr>

<tr>
<td valign="top" width="13%" headers="N101FB "><em>long</em></td>

<td valign="top" width="32%" headers="N10204 "><em>position(Blob pattern, long start)</em></td>

<td valign="top" width="55.00000000000001%" headers="N1020D ">Exceptions are raised if <em>pattern</em> == null, if <em>start</em> &lt;
1, if <em>pattern</em> has length 0, or if an exception is thrown when trying
to read the first byte of <em>pattern</em>.</td>

</tr>

</tbody>

</table>
</div>
  
<div class="tablenoborder"><table summary="" cellspacing="0" cellpadding="4" width="100%" frame="border" border="1" rules="all"><caption>Table 2. JDBC 2.0 java.sql.Clob
Methods Supported</caption>

<thead align="left">
<tr>
<th align="left" valign="bottom" width="14.000000000000002%" id="N1033D">Returns</th>

<th align="left" valign="bottom" width="36%" id="N10346">Signature</th>

<th align="left" valign="bottom" width="50%" id="N1034F">Implementation Notes</th>

</tr>

</thead>

<tbody>
<tr>
<td valign="top" width="14.000000000000002%" headers="N1033D "><em>InputStream</em></td>

<td valign="top" width="36%" headers="N10346 "><em>getAsciiStream()</em></td>

<td valign="top" width="50%" headers="N1034F ">&nbsp;</td>

</tr>

<tr>
<td valign="top" width="14.000000000000002%" headers="N1033D "><em>Reader</em></td>

<td valign="top" width="36%" headers="N10346 "><em>getCharacterStream()</em></td>

<td valign="top" width="50%" headers="N1034F ">NOT SUPPORTED</td>

</tr>

<tr>
<td valign="top" width="14.000000000000002%" headers="N1033D "><em>String</em></td>

<td valign="top" width="36%" headers="N10346 "><em>getSubString(long pos, int length)</em></td>

<td valign="top" width="50%" headers="N1034F ">Exceptions are raised if <em>pos</em> &lt; 1, if <em>pos</em> is
larger than the length of the<em> Clob</em>, or if length &lt;= 0.   </td>

</tr>

<tr>
<td valign="top" width="14.000000000000002%" headers="N1033D "><em>long</em></td>

<td valign="top" width="36%" headers="N10346 "><em>length()</em></td>

<td valign="top" width="50%" headers="N1034F ">&nbsp;</td>

</tr>

<tr>
<td valign="top" width="14.000000000000002%" headers="N1033D "><em>long</em></td>

<td valign="top" width="36%" headers="N10346 "><em>position(Clob searchstr, long start) </em></td>

<td valign="top" width="50%" headers="N1034F ">Exceptions are raised if <em>searchStr</em> == null or <em>start</em> &lt;
1, if <em>searchStr </em>has length 0, or if an exception is thrown when trying
to read the first char of <em>searchStr.</em></td>

</tr>

<tr>
<td valign="top" width="14.000000000000002%" headers="N1033D "><em>long</em></td>

<td valign="top" width="36%" headers="N10346 "><em>position(String searchstr, long start) </em></td>

<td valign="top" width="50%" headers="N1034F ">Exceptions are raised if <em>searchStr</em> == null or start &lt;
1, or if the pattern is an empty string. </td>

</tr>

</tbody>

</table>
</div>
</div>
</div>

</div>

<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="crefjavbclobnot.html">Notes</a></strong><br />
</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="crefjdbc12657.html" title="">JDBC Reference</a></div>
</div>
<div class="relconcepts"><strong>Related concepts</strong><br />
<div><a href="crefjdbc25142.html" title="">Core JDBC java.sql Classes, Interfaces, and Methods</a></div>
</div>
<div class="relref"><strong>Related reference</strong><br />
<div><a href="rrefjdbc32052.html" title="">java.sql.Driver</a></div>
<div><a href="rrefjdbc34565.html" title="">java.sql.DriverManager.getConnection</a></div>
<div><a href="rrefjdbc34954.html" title="">java.sql.Driver.getPropertyInfo</a></div>
<div><a href="rrefjdbc27734.html" title="">java.sql.Connection</a></div>
<div><a href="rrefjdbc15905.html" title="">java.sql.DatabaseMetaData</a></div>
<div><a href="rrefjdbc40794.html" title="">java.sql.Statement</a></div>
<div><a href="rrefjdbc29874.html" title="">java.sql.PreparedStatement</a></div>
<div><a href="rrefjdbc20485.html" title="">java.sql.CallableStatement</a></div>
<div><a href="rrefjdbc23502.html" title="">java.sql.ResultSet</a></div>
<div><a href="rrefjdbc38274.html" title="">java.sql.ResultSetMetaData</a></div>
<div><a href="rrefjdbc16643.html" title="">java.sql.SQLException</a></div>
<div><a href="rrefjdbc30469.html" title="">java.sql.SQLWarning</a></div>
<div><a href="rrefjdbc20377.html" title="">Mapping of java.sql.Types to SQL types</a></div>
<div><a href="rrefjdbc80004.html" title="">java.sql.Connection</a></div>
<div><a href="rrefjdbc77156.html" title="">java.sql.ResultSet</a></div>
<div><a href="rrefjdbc59162.html" title="">java.sql.Statement</a></div>
<div><a href="rrefjdbc99392.html" title="">java.sql.PreparedStatement</a></div>
<div><a href="rrefjdbc52637.html" title="">java.sql.CallableStatement</a></div>
<div><a href="rrefjdbc66688.html" title="">java.sql.DatabaseMetaData</a></div>
<div><a href="rrefjdbc71949.html" title="">java.sql.ResultSetMetaData</a></div>
<div><a href="rrefjdbc87220.html" title="">java.sql.BatchUpdateException</a></div>
<div><a href="rrefjdbcjsr169.html" title="">JDBC Package for Connected Device Configuration/Foundation Profile (JSR169)</a></div>
<div><a href="rrefjdbc32593.html" title="">JDBC 3.0-only features</a></div>
<div><a href="rrefjdbcjavasqlconnection30.html" title="">java.sql.Connection</a></div>
<div><a href="rrefjdbcdatabasemetadata30.html" title="">java.sql.DatabaseMetaData</a></div>
<div><a href="rrefjdbcparametermetadata30.html" title="">java.sql.ParameterMetaData</a></div>
<div><a href="rrefjdbcjavasqlpreparedstatement30.html" title="">java.sql.PreparedStatement</a></div>
<div><a href="rrefjdbcjavasqlsavepoint.html" title="">java.sql.Savepoint</a></div>
<div><a href="rrefjdbcjavasqlstatement30.html" title="">java.sql.Statement</a></div>
<div><a href="rrefjdbc1020262.html" title="">JDBC escape syntax</a></div>
</div>
</div>
</body>
</html>